tls:
  stores:
    default:
      defaultCertificate:
        certFile: /etc/traefik/certs/server.crt
        keyFile: /etc/traefik/certs/server.key
  certificates:
    - certFile: /etc/traefik/certs/c2.gla1v3.local.crt
      keyFile: /etc/traefik/certs/c2.gla1v3.local.key
      stores:
        - default
    - certFile: /etc/traefik/certs/server.crt
      keyFile: /etc/traefik/certs/server.key
      stores:
        - default
  options:
    default: {}
    mtls-required:
      clientAuth:
        caFiles:
          - /etc/traefik/certs/ca.crt
        clientAuthType: RequireAndVerifyClientCert

http:
  middlewares:
    forward-client-cert:
      headers:
        customRequestHeaders:
          ssl-client-cert: "%[req.ssl_client_cert]"